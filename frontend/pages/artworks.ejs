<html>

<head>
	<%- include('../partials/head.ejs'); %>
	<% function ifYesterday(date) { 
		var yesterday = new Date();
		yesterday.setDate(yesterday.getDate() - 1);
		return date.toDateString() === yesterday.toDateString();
	}; %>
</head>

<body>
	<%- include('../partials/header.ejs'); %>
	<div class="banner" style="background-image: url('<%- vars.asset_prefix %><%= cms.siteDetails[0].background.path %>');">
		<i class="fa-solid fa-palette"></i>
		<h1>All Artwork</h1>
		<h3><%- cms.artworks.length %> Artwork</h3>
	</div>
	<div class="articles">
		<div class="grid">
			<% for (artwork of cms.artworks.sort((a, b) => new Date(b.date) - new Date(a.date))) { %>
			<div class="article" style="background-image: url('<%- vars.asset_prefix %><%= artwork.artwork.path %>'); padding-top: 330px;">
				<div class="inner">
					<a href="<%- vars.domain %>/artworks/<%= artwork.slug %>">
						<h3><%= artwork.title %></h3>
					</a>
					<p><a href="<%- vars.domain %>/tags/<%= artwork.tags[0].toLowerCase() %>"><%= artwork.tags[0] %></a> / <% var date = new Date(artwork.date); if (date.isToday()) { %>Today<% } else if (ifYesterday(date)) { %>Yesterday<% } else { %><%= date.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }) %><% } %><% if ((artwork.author != "") && (artwork.author != null)) { %> / <%= artwork.author %><% } %></p>
				</div>
			</div>
			<% } %>
		</div>
	</div>
	<%- include('../partials/footer.ejs'); %>
</body>
<%- include('../partials/foot.ejs'); %>

</html>